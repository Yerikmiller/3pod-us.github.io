function e(){}const t=[];function n(n,s=e){let i;const o=new Set;function r(e){if(r=e,((s=n)!=s?r==r:s!==r||s&&"object"==typeof s||"function"==typeof s)&&(n=e,i)){const e=!t.length;for(const e of o)e[1](),t.push(e,n);if(e){for(let e=0;e<t.length;e+=2)t[e][0](t[e+1]);t.length=0}}var s,r}function a(e){r(e(n))}return{set:r,update:a,subscribe:function(t,l=e){const u=[t,l];return o.add(u),1===o.size&&(i=s(r,a)||e),t(n),()=>{o.delete(u),0===o.size&&i&&(i(),i=null)}}}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");let s={parameters:{},props:{},action_name:null,role:null,controller_name:null,has_footer:!1,has_sidebar:!1,has_header:!1,has_navbar_mobile:!1,has_space_fixed_to_top:!1,classes:"",Footer:null,subtemplate:null,BoxHeader:null,user:null,styles_box:null,breadcrumbs:{},setGridStylesAuto:()=>{},updateGridStyles:()=>{},updateHeaderComponent:()=>{},updateSidebarComponent:()=>{},updateNavBarMobileComponent:()=>{},updateBoxHeaderComponent:()=>{},updateFooterComponent:()=>{},updateHasHeader:()=>{},updateHasFooter:()=>{},updateHasSidebar:()=>{},updateHasNavbarMobile:()=>{},updateHasSpaceFixedToTop:()=>{},updateProperties:e=>{}};const i=function(){let e=s;const{subscribe:t,update:i}=n(e);return{subscribe:t,set:(e,t)=>{i((n=>(n[e]=t,n)))},updateField:(e,t)=>{let n={};return i((s=>(s[e]=t,n=s,s))),n},update:e=>(i((t=>(Object.values(e).map(((n,s)=>{let i=Object.keys(e)[s];t[i]=n})),t))),e),updateBreadcrumbs:e=>(i((t=>(t.breadcrumbs=e,t))),e),get:function(){let e={};return i((function(t){return e=t,t})),e}}}();let o={},r={},a=!0,l=!0;"undefined"==typeof window?(o="undefined"!=typeof globalThis?globalThis?.$page??{}:{},a=!1):(o=window,a=!0),"undefined"==typeof document?(r="undefined"!=typeof globalThis?globalThis?.$page??{}:{},l=!1):(r=document,l=!0);class u{static $WindowObject=o;static $DocumentObject=r;static $has_window=a;static $has_document=l;constructor(e={}){this.birds=[],this.un=(e,t="")=>void 0===e?t:e,this.searchStr=(e,t,n=!1)=>{let s=e.search(t);return-1!==s&&(!0!==n||s)},this.replacement=(e,t,n)=>e.split(t).join(n),this.find=e=>"string"==typeof e?document.getElementById(e):e,this.ext=".turpial.js",this.allowStateEvents=this.un(e.allowStateEvents,!1),this.loadModulesOnRoute=this.un(e.loadModulesOnRoute,!0),this.autoloader=this.un(e.autoloader,!1),this.autoloader_folder=this.un(e.autoloader_folder,""),this.cache=this.un(e.cache,"public"),this.public_path=this.un(e.public_path,""),this.core_path=this.un(e.core_path,""),this.folder=this.un(e.core_path,"/turpial/"),this.loader={},this.httpRequests=[],this.loader.show=this.un(e.loaderShow,null),this.loader.hide=this.un(e.loaderHide,null),this.views={},this.statusResources="loaded",this.resources={},this.myComponents=[],this.random_string=e=>{void 0===e&&(e=6);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(62*Math.random()));return t},this.selectData=(e,t,n,s)=>{s=c.un(s,!1);var i="";return e.forEach((function(e,o){if(e[t]==n)return!0===s?void(i=o):void(i=e)})),i},this.component={applyProps:(e,t)=>{const n=()=>{const n=document.querySelectorAll(e);Array.prototype.slice.call(n).forEach((function(e){t(e)}))},s=()=>{if("loading"===this.statusResources)var e=0,t=setInterval((()=>e>6e3?(console.warn("error loading resources and applying components"),void clearInterval(t)):(e+=20,"loaded"===this.statusResources?(clearInterval(t),void n()):void 0)),20);else n()};u.$WindowObject.addEventListener("load",(()=>{s()})),"complete"!==document.readyState||s()},set:e=>{const t=this,n=t.component;var s=e.props,i=e.tag;t.myComponents.push({tag:i,props:s});var o=t.un(e.extends,null);if(null!==o&&(o={extends:o}),void 0===u.$WindowObject.customElements)return t.component.olderVerBrow=()=>{},void n.applyProps(i,s);void 0===u.$WindowObject.customElements.get(i)&&u.$WindowObject.customElements.define(i,class extends HTMLElement{constructor(t=e.props){super((e=>{n.applyProps(i,e)})(t))}},o)}},this.view={},this.models={},this.models.sources={},this.controller={},this.urls={},this.filesLoaded={},this.inject=(e,t)=>{t=t||{};for(const n of e)if(t.target=t.target||document.head,"STYLE"===this.filesLoaded[n].tagName&&(this.filesLoaded[n].innerHTML=this.filesLoaded[n].text),Array.isArray(t.target)){t.target.map((e=>{let t=this.filesLoaded[n].clodeNode(!0);e.appendChild(t)}))}else t.target.appendChild(this.filesLoaded[n])},this.models.fetch=e=>{let t=this,n=e.type||"script";const s=t.un(e.cancelOnResend,null),i=t.un(e.options,null),o=t.un(e.method,"GET"),r=t.un(e.attributes,[]);e.url=e.url||[],e.file=e.file||e.url,e.files=e.files||e.file,e.multidata=e.multidata||!1;var a=e.files;void 0===e.ready&&(e.ready=()=>{}),"string"==typeof a&&(a=[a]);const l=[];e.getString=e=>e.clone().text(),e.fetching=(a,u)=>{void 0!==t.filesLoaded[a]&&"script"===n&&t.filesLoaded[a].remove();var c=new XMLHttpRequest;c.open(o,a,!0);const d=[],h=[];if(null!==i){for(var p in i)h.push(i[p]);Object.keys(i).forEach((function(e,t){d.push([e,h[t]])})),d.forEach((function(e){c.setRequestHeader(e[0],e[1])}))}if(c.onload=function(){if(c.status>=200&&c.status<400){var s,i=c.responseText;s="script"===n||"style"===n||"link"===n?n:"script";var o=document.createElement(s);r.map((e=>{o.setAttribute(e.name,e.content)})),"style"===n?o.type="text/css":"link"===n&&(o.rel="stylesheet",o.media="all",o.href=a),o.text=i,t.filesLoaded[a]=o,l.push(a)}else if("function"==typeof e.onerror&&c.status>=400)return e.onerror(c.status)},c.onerror=function(){t.filesLoaded[a]="",l.push("unloaded:"+a)},!0===s){let n="rq_"+t.un(e.id,t.random_string(4));if(void 0!==t.httpRequests[n])try{t.httpRequests[n].abort()}catch(e){console.warn("unable to cancel request.")}t.httpRequests[n]=c}"GET"===o?c.send():c.send(u)},t.statusResources="loading",(s=>{s.map(((t,n)=>{let s=e?.data??{};!0===e.multidata&&(s=e.data[n]??{}),e.fetching(t,s)}));var i=0;let o=setInterval((()=>{let r=!1;if(1e4===(i+=70)&&(r=!0,console.warn("¡Impossible to load all files.")),l.length!==s.length&&!0!==r);else{if(clearInterval(o),"script"===n||"style"===n||"link"===n)t.inject(s,e),e.ready();else if("text"===n){var a=[];for(var u of s)a.push(t.filesLoaded[u].innerHTML);e.ready(a)}t.statusResources="loaded"}}),70)})(a)},this.fetch=e=>this.models.fetch(e),this.include=e=>this.models.fetch(e),this.linkCSS=e=>{e.type="link";var t=this;e.type="style",e.url=e.url||[],e.file=e.file||e.url,e.files=e.files||e.file,e.target=e.target||document.head,e.process=e.process||function(e){return e},e.ready=e.ready||function(){};var n=[];return e.files.map((s=>{var i=document.createElement("link");if(i.setAttribute("media","all"),i.setAttribute("rel","stylesheet"),i.href=s,i=e.process(i),Array.isArray(e.target)){e.target.map((e=>{var s=t.mount(e,i.cloneNode(!0));n.push(s)}))}else{var o=t.mount(e.target,i);n.push(o)}})),e.ready(n),n},this.includeCSS=e=>(e.type="style",this.models.fetch(e)),this.controller.views={path:e=>{const t=this.ext;var n=`${this.folder}views/`,s=e.views,i=this.resources,o=s.split("/"),r=n;if(1===o.length){var a=o[0];return r+=`${a}${t}`,i[a]={},r}var l=o.pop(),u=o.pop();a=l;return i[u]={},i[u][a]={},0===o.length||o.forEach((function(e){r+=`${e}/`})),r+=`${u}/${a}${t}`}},this.view.load=e=>{(e=e||{}).ready=e.ready||function(){},e.folder=this.autoloader_folder||"";const t=this.ext,n=this.app.parameters,s=this.app.controller_name,i=this.app.action_name,o=`${this.folder}${e.folder}${s}`;if(e.module=c.un(e.module,null),"index"===s)var r=`${o}${t}`;else if(0===n.length&&"index"!==s&&void 0===i)r=`${o}/index${t}`;else if(0===n.length&&"undefined"!==i)r=`${o}/${i}/index${t}`;else{r=`${o}/${i}`;n.forEach((function(e){r+=`/${e}`})),r+=t}"string"==typeof e.module&&(e.ext=e.ext||t,r=this.core_path+e.module+e.ext);var a={file:r,options:e.options||{},ready:()=>{e.ready()}};"function"==typeof e.error&&(a.error=t=>{e.error(t)}),this.DataView=a,""!==e.module&&!1!==e.module&&this.fetch(a)},this.controller.routes={getHost:e=>{const t=this;!1!==(e=e||{}).loadModule&&!1!==t.loadModulesOnRoute||(e.relativeModules=!0);var n=u.$WindowObject.location.href;n=(n=(n=(n=n.split("#"))[0]).split("?"))[0];let s=t.un(e.relativeModules,!1),i=n.search(t.public_path),o=n.slice(i,i+t.public_path.length);o=n.split(o)[0]+o;var r=o.slice(-1);return r="/"!==r?"/":"",1==s?`${o}${r}`:(r=n.slice(-1),`${n}${r="/"!==r?"/":""}`)},set:e=>{const t=this;t.app={},e=e||{};let n=(u?.$WindowObject?.location?.href??"").split("?");n=n[0],n=n.split("#");let s=n[0].search(t.public_path);if(!(s>0))return void console.warn("bad_public_path_name");n=n[0].substr(s+t.public_path.length);let i=n.split("/"),o=0,r=0;t.app.parameters=[],i.forEach((function(e){""!=e&&(0===o&&(t.app.controller_name=e),1===o?t.app.action_name=e:o>1&&(t.app.parameters[r++]=e),o++)})),t.app.controller_name=t.app.controller_name||"index",t.app.action_name=t.app.action_name||"";let a=`${t.app.controller_name}/${t.app.action_name}/${t.app.parameters.join("/")}`;a=a.split("//").join("/"),a=a.split("///").join("/"),t.app.props=e,t.app.path=a,t.host=t.controller.routes.getHost(),t.app.host=t.host},change:e=>{const t=this,n=e.type||"pushState";e.loadModule=t.un(e.loadModule,!0);let s=`${t.controller.routes.getHost(e)}${e.path}`;if(s===u.$WindowObject.location.href)return;u.$WindowObject.history[n](t.un(e.object),"",t.un(s)),!0===e.loadModule&&!0===t.loadModulesOnRoute&&t.urls.load(e);let i=t.un(e.title,!1);"string"==typeof i&&(document.title=i)},go:e=>{if("number"==typeof e)u.$WindowObject.history.go(e);else if("back"===e)u.$WindowObject.history.back();else{if("forward"!==e)return;u.$WindowObject.history.forward()}this.controller.routes.set(),this.urls.load()}},this.router=(e,t)=>{t=t||function(){},"number"!=typeof e&&"string"!=typeof e?(this.controller.routes.change(e),this.stateEvent(),t()):this.controller.routes.go(e)},this.routes=this.controller.routes.set,setTimeout((()=>{this.routes()}),0),this.controller.components={},this.views.get=e=>{if("object"==typeof e){"string"==typeof e.views&&(e.views=[e.views]);var t=[],n=this.controller.views;e.views.forEach((function(s,i){e.views=s,t[i]=n.path(e)})),Object.assign(e,{file:t,ready:e.ready}),this.fetch(e)}},this.urls={},this.urls.load=e=>{e=e||{};const t=this,n=t.app.controller_name,s=t.app.action_name,i=t.app.parameters;let o=t.urls[n]||!1;if(e.module=c.un(e.module,null),"string"==typeof e.module)return void t.view.load(e);if(!1===o)return void t.view.load(e);t.un(o.loadController,!0);let r=t.un(o.loadAction,!0),a=t.un(o.loadParameters,1e3),l=t.un(t.urls[n][s],!1);return"function"==typeof o.self?"function"==typeof l&&!0===r?i.length>a?void o.self((()=>{l((()=>{}))})):void o.self((()=>{l((()=>{t.view.load(e)}))})):!1===r&&"string"==typeof s?void o.self((()=>{l((()=>{}))})):void o.self((()=>{t.view.load(e)})):void 0},this.historyEvents={},this.URLNoHASH=function(e){return e.split("#")[0]},this.createHistoryEvent=function(e,t){e=this.URLNoHASH(u?.$WindowObject?.location?.href??"")+(e=e||""),this.historyEvents[e]=t},this.createHistoryEvent("",(function(){})),this.stateEvent=()=>{var e=this.historyEvents;"function"==typeof e[this.URLNoHASH(u.$WindowObject.location.href)]&&e[this.URLNoHASH(u.$WindowObject.location.href)]()},!0===this.allowStateEvents&&u.$WindowObject.addEventListener("popstate",this.stateEvent),!0===e.autoloader&&(u.$WindowObject.addEventListener("load",(()=>{this.urls.load()})),u.$WindowObject.onpopstate=e=>{this.controller.routes.set(),this.urls.load(),function(){void 0===window.customElements&&Array.prototype.slice.call(this.myComponents).forEach((function(e){this.component.set({tag:e.tag,props:e.props})}))}()}),this.template=(e,t)=>{const n=function(e,t){if("object"==typeof(t=t||[])&&!Array.isArray(t)){var n=[];Object.values(t).map(((e,s)=>{n.push({[Object.keys(t)[s]]:e})})),t=n}"object"==typeof e&&(e=e.innerHTML);var s=e;return t.forEach((function(t){var n=Object.keys(t),i=Object.values(t);n.forEach((function(t,n){t=`{{ ${t} }}`,e.search(t)>=0&&(s=function(e,t,n){return e.split(t).join(n)}(s,t,i[n]))}))})),s};return n(e,t)}}url_params(){let e=window.location.search;return new URLSearchParams(e)}map(e,t=[]){var n=this.birds[e];if("object"==typeof e?n=e:void 0===n&&(n=this.find(e)),"object"==typeof t){if(void 0===t[0])return n;n=n.children,t.forEach((function(e,s){n=void 0===t[s+1]?n[e]:n[e].children}))}return n}createMap(e){var t=(e=this.find(e)).getAttribute("id");if(void 0!==t){var n=document.getElementById(t);this.birds[t]=n}}read(e,t=[]){return this.map(e,t)}selectorApp(e,t=[]){return"object"==typeof t&&!0===Number.isInteger(t[0])?this.map(e,t):t}delete(e){(e=this.find(e)).remove()}update(e,t=null,n="replace-selector",s=!0){if("string"==typeof t)var i=this.render(t),o=t;else i=t;if(null===i){var r=!1;i=t}else r=!0;var a=e;!0===s&&(n="replace-selector");var l=!1,u=a.parentNode;if("before"===n)u.insertBefore(i,a),l=i;else if("after"===n)u.insertBefore(i,a.nextSibling),l=i;else if("replace-selector"===n)u.replaceChild(i,a),l=i;else{if("inner"!==n)return console.warn("error-on-placement"),!1;!0===r?a.innerHTML=o:a.innerText=i,l=a}let c=a;return this.createMap(c),l}insert(e,t,n="inner"){return e=this.find(e),this.update(e,t,n,!1)}render(e){var t=document.createElement("template");return t.innerHTML=e,t=t.content.firstElementChild}mount(e,t){if("string"==typeof t)t=this.render(t);if(null===t)return void console.warn("need to be HTML string or object");let n=null;(e=this.find(e))===document&&(e=document.body);try{n=e.appendChild(t)}catch(t){return console.error(t),void console.log(e)}let s=e;return this.createMap(s),n}settings(e){if(void 0===e[0]){var t=[],n=0,s=[];for(var i in e)s.push(e[i]);s.forEach((function(e){t[n++]=e}));var o=[];n=0;Object.keys(e).forEach((function(e){o[n++]=e}));var r="";n=0;return o.forEach((function(e,n){r+=` ${e}="${t[n]}"`})),r}}createTag(e,t="",n=""){"object"==typeof t&&(t=this.settings(t));let s=`<${e}${t}>`;return s+=n,"br"!==e&&(s+=`</${e}>`),s}html(e,t,n){const s=this.replacement,i=this;if("code"===e&&(n=s(n,"<","&lt;"),n=s(n,">","&gt;"),n=s(n," ","&nbsp;")),void 0===n)n=t,t="";if("object"==typeof n&&void 0!==n[0]){var o="";n.forEach((function(e,t){o+=`${e}`}));var r=i.createTag(e,t,o)}else if("object"==typeof n)t=n,r=i.createTag(e,t,n="");else r=i.createTag(e,t,n);return r}el(e,t,n){return this.html(e,t,n)}}let c=new u({public_path:u.$WindowObject?.location_host??u.$WindowObject?.location?.host??null,loadModulesOnRoute:!1});function d(e){return function t(n){return 0===arguments.length||function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}(n)?t:e.apply(this,arguments)}}var h=d((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function p(e,t,n){if(n||(n=new m),function(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t}(e))return e;var s,i=function(s){var i=n.get(e);if(i)return i;for(var o in n.set(e,s),e)Object.prototype.hasOwnProperty.call(e,o)&&(s[o]=t?p(e[o],!0,n):e[o]);return s};switch(h(e)){case"Object":return i(Object.create(Object.getPrototypeOf(e)));case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return s=e,new RegExp(s.source,s.flags?s.flags:(s.global?"g":"")+(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.sticky?"y":"")+(s.unicode?"u":"")+(s.dotAll?"s":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var m=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){const n=this.hash(e);let s=this.map[n];s||(this.map[n]=s=[]),s.push([e,t]),this.length+=1},e.prototype.hash=function(e){let t=[];for(var n in e)t.push(Object.prototype.toString.call(e[n]));return t.join()},e.prototype.get=function(e){if(this.length<=180){for(const t in this.map){const n=this.map[t];for(let t=0;t<n.length;t+=1){const s=n[t];if(s[0]===e)return s[1]}}return}const t=this.hash(e),n=this.map[t];if(n)for(let t=0;t<n.length;t+=1){const s=n[t];if(s[0]===e)return s[1]}},e}(),_=d((function(e){return null!=e&&"function"==typeof e.clone?e.clone():p(e,!0)}));const f=u.$WindowObject?.IS_ONLINE?"0x4AAAAAAAz1-qtOEEVsM45z":"0x4AAAAAAALZr-x-tz7KsQDe";const y=function(){let e={main_components_loaded:!1,is_online:!1,host:"",api_host:"",api_host_base:"",api_stream:"",api_stream_base:"",version_user:null,assets_path:"",enviroment:"",authenticate:"",website_title:"",is_testing_user:null,plan_limits_testing:"",go_to_plans:"#",projects:[],path:"/",stripeTokens:{live:"pk_live_ZodCkKBak1MPlwBJsxsMuubx",test:"pk_test_X7AvKFxbFhE5jaMPKPqiAbql003mxvgpKe"},stripeTokens_v2:{live:"pk_live_51OEXyaGqoorrE7eC4Qtor2u3YWGCqZkxiPGBk9NZf7QMWCy0KBZlohfpoHaKYkWEiZMYFGWbtlP9kLSt6LRsuEPE00vwPdGIjS",test:"pk_test_51OEXyaGqoorrE7eCLdOu0IfVLrKTAyUZeFunq7vgyE84beauILQ1yYT1QCB2otAx3nJioglxBPsR60x4rqZP7rCB00J9IP9O7v"},stripe_key:null,user:null,admin:null,superuser:null,host:null,loaded_turnstile:!1,turnstile_token:null,show_onboarding:!1,on_error_session_redirect:{user:null,admin:null,superuser:null}};const{subscribe:t,update:s}=n(e);return{subscribe:t,create_turnstile_instance:function(e,t,n={}){e=e||"#turnstile-element",t=t||function(){};let i=turnstile.render(e,{sitekey:f,callback:function(e){s((t=>(t.turnstile_token=e,t))),t(),setTimeout((()=>turnstile.remove(i)),2e3)}})},verify_user_version:()=>{s((e=>{let t=e?.user?.metadata["3pod_2_0"]??null,n=t?"2.0":"1.2",s=e?.user?.more_tags??null,i=!1;if(null!==s&&"string"==typeof s&&(s=s.split(","),i=s?.some((e=>"show_v2_admin"===e))),null===e?.version_user&&null===t){let t=null,s=null;return e?.user?.subscriptions?.forEach((e=>{"funnels"===e.membership_type&&(t=e),"suite"!==e?.membership_type&&"suite_website"!==e?.membership_type||(s=e)})),n=null===t?"2.0":"1.2",e.version_user=n,s&&(e.version_user="2.0"),e}return null===e?.version_user?(e.version_user=n,e):(!i||"string"!=typeof Cookies.get("AppSessionSuperUser")&&"string"!=typeof Cookies.get("AppSessionAdmin")||(e.version_user="2.0"),e)}))},is_testing:function(t=!1,n="testing3pod"){if(!0===e.is_testing_user)return!0;let s=e?.user??{},i=[];return null!==s?.user_from_campaign&&i.push(s?.user_from_campaign??""),"string"==typeof s?.more_tags&&(s.more_tags=s.more_tags.split(",")),Array.isArray(s?.more_tags)&&s.more_tags.forEach((e=>{i.push(e)})),i.forEach((t=>{Array.isArray(n)?n.forEach((n=>{t!==n&&"testing3pod"!==t||(e.is_testing_user=!0)})):(n!==t&&"show_v2_admin"!==t||(e.is_testing_user=!0),"show_v2_admin"!==t||"string"!=typeof Cookies.get("AppSessionSuperUser")&&"string"!=typeof Cookies.get("AppSessionAdmin")||(e.is_testing_user=!0))})),!0===t?!0===e.is_testing_user:!1===window.IS_ONLINE||!0===e.is_testing_user},get_subscription:function(t,n=null){return null==(n=n??e?.user??{})&&(n=window.user??window.user2),(n?.subscriptions??[]).find((function(e){return e.membership_type===t}))??null},get_subscription_status:function(e,t,n=!1){null==e&&(e=window.user??window.user2);let s={},i=e?.subscriptions??[],o=e?.current_total_webpages??0,r=e?.current_total_funnels??0,a=e?.current_total_websites??0;s=i.find((e=>e.membership_type===t));let l=null;l=i.find((e=>"lifesaving"===e.membership_type));let u=s?.status??null,c=l?.status??null,d={subscription:s,status_sub:u,lifesaving_status:c,show_notification:null,block_elements:!1,total_webpages:o,total_funnels:r,total_websites:a};function h(e,t,n=0){return void 0!==e[t]?e[t].is_unlimited?1/0:e[t].value+n:n??0}if("canceled"!==u&&null!==u||"active"===c||(d.show_notification="show_warning_delete",d.block_elements=!0),"canceled"!==u&&null!==u||"active"!==c||(d.show_notification="show_info_lifesaving",d.block_elements=!0),"canceled"!==u&&null!==u&&(d.show_notification=null,d.block_elements=!1),"funnels"===t&&null!==(s??null)&&(d.max_funnels=5,d.max_webpages=1,d.max_products=100,d.max_leads=1500,d.max_forms=1500,d.max_orders=1500,d.max_sessions=5e4),("suite"===t||"funnels"===t)&&null!==(s??null)){let e=_(s.plan.benefits);"suite"!==t&&(d.max_funnels=5,d.max_webpages=1,d.max_products=100,d.max_leads=1500,d.max_forms=1500,d.max_orders=1500,d.max_sessions=5e4),d.max_funnels=h(e,"embudos",d.max_funnels),d.max_webpages=h(e,"websites",d.max_webpages),d.max_products=h(e,"productos",d.max_products),d.max_orders=h(e,"ordenes_al_mes",d.max_orders),d.max_leads=h(e,"leads_por_mes",d.max_leads),d.max_forms=h(e,"formularios_por_mes",d.max_forms),d.max_sessions=h(e,"sesiones_por_mes",d.max_sessions)}if("suite_website"===t&&null!==(s??null)){let e=_(s.plan.benefits);d.max_funnels=h(e,"embudos",d.max_funnels),d.max_webpages=h(e,"websites",d.max_webpages),d.max_products=h(e,"productos",d.max_products),d.max_orders=h(e,"ordenes_al_mes",d.max_orders),d.max_leads=h(e,"leads_por_mes",d.max_leads),d.max_forms=h(e,"formularios_por_mes",d.max_forms),d.max_sessions=h(e,"sesiones_por_mes",d.max_sessions)}let p=e?.more_tags??"";return"string"==typeof p&&(p=(e?.more_tags??"").split(","),p.push(e?.user_from_campaign??"")),p.forEach((function(e){"testing3pod"===e&&(d.max_funnels=1e4,d.max_webpages=1e4,d.max_products=2e3,d.max_leads=2500,d.max_forms=2500,d.max_orders=2500,d.max_sessions=5e4)})),d},get_websites_subscription:e=>{let t=e?.subscriptions??[],n=null;return t.forEach((e=>{e.membership_type})),t.forEach((e=>{"suite"!==e.membership_type&&"suite_website"!==e.membership_type||null!==n||(n=e)})),n},get_suite_sub:function(e=null){null==e&&(e=window.user??window.user2);const t=this;let n=t.get_subscription_status(e,"suite"),s=t.get_subscription_status(e,"funnels"),i=t.get_subscription_status(e,"suite_website"),o=!1;return"show_warning_delete"===i.show_notification&&"show_warning_delete"===n.show_notification&&(o=!0),"show_warning_delete"===s.show_notification?"show_warning_delete"===n.show_notification&&(o=!0):n=s,"show_warning_delete"===n.show_notification&&"show_warning_delete"!==i.show_notification&&(n=i),{sub_statuses:n,block_buttons:o}},get_all_subs_status:e=>{null==e&&(e=window.user??window.user2);let t=e.subscriptions,n=!1,s=!1,i=null,o=!1,r=!1;function a(){s=!0,r=!0,i="show_warning_delete",o&&(i="show_info_lifesaving")}return t.map((e=>{"lifesaving"!==e.membership_type&&("active"!==e.status&&"trialing"!==e.status&&"past_due"!==e.status||(n=!0),"trialing"===e.status&&(n=!0)),"lifesaving"===e.membership_type&&"active"===e.status&&(o=!0)})),!n&&t.length>0&&a(),0===t.length&&a(),{all_canceled:s,has_at_least_one_active:n,canceled__has_lifesaving:s&&o,canceled__no_lifesaving:s&&!1===o,has_lifesaving:o,has_trialing_active:!1,show_notification:i,block_elements:r}},use_turnstile_token:function(e){e=e||function(){},s((t=>(null===t.turnstile_token&&console.warn("Probably the previus instance was already used, create a new one."),e(`${t.turnstile_token}`),t.turnstile_token=null,t)))},addMethod:function(e,t){if("function"!=typeof t)throw"Error, '"+e+"' is not a function";s((n=>(n.methods[e]=t,n)))},validateAdminPermission:function(e){try{return"superuser"===i.get().controller_name||y.get().admin.roles.some((t=>t===e))}catch(e){return console.error(e),!1}},addCrmProperties:function(e=null){s((t=>(t.user=t.user||{},t.user.crm=t.user.crm||{},t.user.crm.crm_properties=e,t)))},updateObject:s,update:function(e,t){s((n=>(n[e]=t,n)))},get:function(){return e}}}();class g{constructor(e,t="America/Bogota",n="en-US"){"string"==typeof e&&(e=(e=e.split("+")[0]).split("T").join(" "),e+="+00:00"),t=window?.default_timezone??t;const s=this;this.is_null_date=!1,null===e&&(this.is_null_date=!0);let i=new Date(new Date(e).toLocaleString(n,{timeZone:t}));this.month=i.toLocaleString("default",{month:"long"}),this.month_date=i.getMonth()+1,1===`${this.month_date}`.length&&(this.month_date=`0${this.month_date}`);try{this.month=[u.$WindowObject?.ContentsAll?.ctn_4hwhZ1.split(",")??["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u.$WindowObject?.ContentsAll?.ctn_hEGra9.split(","),u.$WindowObject?.ContentsAll?.ctn_FS9ZZz.split(","),u.$WindowObject?.ContentsAll?.ctn_yaYQow.split(","),u.$WindowObject?.ContentsAll?.ctn_wNyGq_.split(",")][0][i.getMonth()]}catch(e){}this.day=i.getDate(),this.year=i.getFullYear(),this.minutes=null,this.hours=null,this.only_hours=null,this.formatAMPM=e=>{var t=e.getHours(),n=e.getMinutes(),i=t>=12?"pm":"am",o=(t=(t%=12)||12)+":"+(n=`${n=n<10?"0"+n:n}`)+" "+i;return s.hours=t,s.minutes=n,s.only_hours=`${t}`,o},this.hour=this.formatAMPM(i)}month_day_year(){return this.is_null_date?null:`${this.month} ${this.day}, ${this.year}`}month_day_year_time(){return this.is_null_date?null:`${this.month} ${this.day}, ${this.year} : ${this.hour}`}month_day_year_only_hours(){return this.is_null_date?null:`${this.month} ${this.day}, ${this.year} : ${this.only_hours}:00`}system_date(){return isNaN(this.year)||isNaN(this.month_date)||isNaN(this.day)||this.is_null_date?null:`${this.year}-${this.month_date}-${this.day}`}system_date_hour(){if(isNaN(this.year))return null;if(isNaN(this.month_date))return null;if(isNaN(this.day))return null;if(this.is_null_date)return null;let e=this.hour.split("pm").join("PM");return e=e.split("am").join("AM"),`${this.year}-${this.month_date}-${this.day} ${e}`}full_day_month_year(e){return e=e||" de","es"!==window.language?`${this.month} ${this.day}, ${this.year}`:this.is_null_date?null:`${this.day}${e} ${this.month}${e} ${this.year}`}full_day_month(e){return e=e||" de","es"!==window.language?`${this.month} ${this.day}`:this.is_null_date?null:`${this.day}${e} ${this.month}`}full_day_month_year_time(e,t=!1){if(e=e||" de","es"!==window.language)return`${this.month} ${this.day}, ${this.year}`;let n=this.hour.split("pm").join("PM");return n=n.split("am").join("AM"),!0===t&&(this.hour,this.minutes),this.is_null_date?null:`${this.day}${e} ${this.month}${e} ${this.year} ${n}`}only_hours(){return`${this.hour}`}convertUTCToLocal(e){const t=new Date(e),n=6e4*t.getTimezoneOffset();return new Date(t.getTime()+n).toLocaleDateString()}getStartOfDay(e){return e=e.split("T")[0],new Date(`${e} 00:00:00`)}getEndOfDay(e){return e=e.split("T")[0],new Date(`${e} 23:59:59`)}}class w{constructor(e={},t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=function(){}){this.start_day=e?.start_day??1,this.end_day=e?.end_day??5,this.start_time={hour:e?.start_time?.hour??9,minute:e?.start_time?.minute??0},this.end_time={hour:e?.end_time?.hour??19,minute:e?.end_time?.minute??30},this.exceptions=e?.exceptions??[],this.callback=n??function(){},this.supportTimeZone=e?.supportTimeZone??"America/Bogota",this.userTimeZone=t}convertSupportTimeToTargetTimeZone(e,t,n,s){let i=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:this.supportTimeZone}).formatToParts(n);parseInt(i.find((e=>"year"===e.type)).value,10),parseInt(i.find((e=>"month"===e.type)).value,10),parseInt(i.find((e=>"day"===e.type)).value,10);let o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),r=new Date(o.toLocaleString("en-US",{timeZone:this.supportTimeZone})),a=new Date(o.toLocaleString("en-US",{timeZone:"UTC"})),l=r.getTime()-a.getTime(),u=o.getTime()+60*(60*e+t)*1e3-l,c=new Date(u),d=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hourCycle:"h23",timeZone:s}).formatToParts(c);return{hour:parseInt(d.find((e=>"hour"===e.type)).value,10),minute:parseInt(d.find((e=>"minute"===e.type)).value,10)}}isSupportButtonDisabled(e){const t=this;let n=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",weekday:"short",hourCycle:"h23",timeZone:t.userTimeZone}).formatToParts(e),s=parseInt(n.find((e=>"hour"===e.type)).value,10),i=parseInt(n.find((e=>"minute"===e.type)).value,10),o={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6}[n.find((e=>"weekday"===e.type)).value],r=60*s+i,a=t.convertSupportTimeToTargetTimeZone(t.start_time.hour,t.start_time.minute,e,t.userTimeZone),l=t.convertSupportTimeToTargetTimeZone(t.end_time.hour,t.end_time.minute,e,t.userTimeZone),u=60*a.hour+a.minute,c=60*l.hour+l.minute;if(o<t.start_day||o>t.end_day&&0===t.exceptions.length)return!0;let d=r>=u&&r<=c;for(let n of t.exceptions??[]){let s=!1;if("date"===n.type){const i=new Date(n.date);let o=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:t.supportTimeZone}).formatToParts(i),r=`${o.find((e=>"year"===e.type)).value}-${o.find((e=>"month"===e.type)).value}-${o.find((e=>"day"===e.type)).value}`,a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:t.supportTimeZone}).formatToParts(e);s=r===`${a.find((e=>"year"===e.type)).value}-${a.find((e=>"month"===e.type)).value}-${a.find((e=>"day"===e.type)).value}`}else"weekday"===n.type&&(s=o===n.weekday);if(!s)continue;let i;if(0===n.start_time_hour&&0===n.start_time_minute&&23===n.end_time_hour&&59===n.end_time_minute)i=!0;else{let s=t.convertSupportTimeToTargetTimeZone(n.start_time_hour,n.start_time_minute,e,t.userTimeZone),o=t.convertSupportTimeToTargetTimeZone(n.end_time_hour,n.end_time_minute,e,t.userTimeZone),a=60*s.hour+s.minute,l=60*o.hour+o.minute;i=l<a?r>=a||r<=l:r>=a&&r<=l}if(i){if("exclusive"===n.exception_type)return!0;if("inclusive"===n.exception_type)return!1}}return o<t.start_day||o>t.end_day||!d}isAvailableSupportText(e=new Date){const t=this;let n="en";if(void 0!==y)try{n=y.get().user.lang}catch(e){n="es"}else n="es";let s="es"===n?["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=(s,i)=>{let o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),s,i,0,0);return new Intl.DateTimeFormat("es"===n?"es-CO":"en-US",{hour:"2-digit",minute:"2-digit",hour12:"es"===n,timeZone:t.userTimeZone}).format(o)},o=t.convertSupportTimeToTargetTimeZone(t.start_time.hour,t.start_time.minute,e,t.userTimeZone),r=t.convertSupportTimeToTargetTimeZone(t.end_time.hour,t.end_time.minute,e,t.userTimeZone),a=s[t.start_day],l=s[t.end_day],u=i(o.hour,o.minute),c=i(r.hour,r.minute),d="es"===n?`${a}-${l} ${u} a ${c}`:`${a}-${l} ${u} to ${c}`,h=t.exceptions.filter((e=>"weekday"===e.type&&"inclusive"===e.exception_type));if(h.length>0){d+=`,\n ${h.map((o=>{let r=s[o.weekday],a=t.convertSupportTimeToTargetTimeZone(o.start_time_hour,o.start_time_minute,e,t.userTimeZone),l=t.convertSupportTimeToTargetTimeZone(o.end_time_hour,o.end_time_minute,e,t.userTimeZone),u=i(a.hour,a.minute),c=i(l.hour,l.minute);return`${r} ${u} ${"es"===n?"a":"to"} ${c}`})).join(", \n")}`}return d}}window.isSupportButtonDisabled=function(e){const t=e.getDay(),n=e.getHours(),s=e.getMinutes();return!(t>=1&&t<=5&&n>=7&&n+s/60<19.5)&&(!(6===t&&n>=8&&n<12)&&!(t>6))},window.support_disabled=!1,async function(){const e=new Date;let t=null,n=await async function(){if(window.support_customer_service_data)return window.support_customer_service_data;let e=new g(new Date).month_day_year_only_hours();try{null!==window.Cookies.get("AppSessionSuperUser")&&(e=(new Date).getTime())}catch(e){console.log(e)}const t=window.IS_ONLINE;let n=await fetch(`https://bucket.3pod.io/tools/${t?"prod":"test"}/support_service_availability.json?time=${e}`),s=await n.json();return window.support_customer_service_data=s,s}();if(null==n)throw"support_customer_service_data are undefined or null";t=new w(n);const s=t.isSupportButtonDisabled(e);window.support_disabled=s}();
//# sourceMappingURL=support_service_controller.js.map
